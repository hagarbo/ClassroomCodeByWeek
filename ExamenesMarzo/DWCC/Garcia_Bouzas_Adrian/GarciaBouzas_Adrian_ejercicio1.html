<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Examen_Ejercicio 1: Valoracion: 3 puntos</title>
  </head>

  <body>
    <script>
      // EJERCICIO 1.1: PUNTUACION 0,75 PUNTOS

      //Crea la clase abstracta Mamifero con nombre, edad, y método comer

      class Mamifero {
        constructor(nombre, edad) {
          if (this.constructor === Mamifero) {
            throw new Error("Esta clase es abstracta y no se puede instanciar");
          } else {
            this.nombre = nombre;
            this.edad = edad;
          }
        }
        comer() {
          throw new Error("Este metodo es abstracto!!!");
        }
      }
      // Crea la clase Persona que hereda de Mamífero

      class Persona extends Mamifero {
        comer() {
          return "Soy una persona y como de todo";
        }
      }

      // Crea un objeto Mamífero. Razona el resultado en el momento que se crea un objeto de tipo Mamifero

      // Deberiamos obtener un error por consola al ser una clase abstracta
      try {
        const mamifero = new Mamifero("Perro", 12);
      } catch (error) {
        console.log(error);
      }

      // Crea un objeto Persona. Muestra los datos por la consola
      const persona = new Persona("Julian", 25);
      console.log(persona);
      console.log(persona.comer());
      // EJERCICIO 1.2: PUNTUACION 1 PUNTO:

      // Crea el objeto manzanaRoja con los siguientes atributo: nombre, tamaño, tipo (dulce/amarga),
      // utilizando un constructor de objetos
      const manzanaRoja = {
        nombre: "manzana",
        tamaño: "XL",
        tipo: "dulce",
      };
      console.log(manzanaRoja);
      // Añadir atributos al objeto manzanaRoja en este caso se añade un nuevo atributo que es el color
      manzanaRoja.color = "rojo";

      manzanaRoja.imprimeManzana = function () {
        return (
          "Datos del objeto: " +
          this.nombre +
          "de color " +
          this.color +
          ", tipo " +
          this.tipo +
          " y tamaño " +
          this.tamaño +
          "\n"
        );
      };
      console.log(manzanaRoja);

      //Imprimimos en el html
      document.write(manzanaRoja.imprimeManzana());
      document.write("<br/>");
      document.write("El color de la manzana es: " + manzanaRoja.color);
      document.write("<br/>");
      //Recorrer las propiedades del objeto manzanaRoja
      console.log("PROPIEDADES DE MANZANA TOJA");
      Object.getOwnPropertyNames(manzanaRoja).forEach((propiedad) => {
        console.log(propiedad);
      });
      //Muestra el objeto manzanaRoja para ello debes crear el método imprime manzana. Además debes mostrar en
      //otra linea el color de la manzana
      console.log(manzanaRoja.imprimeManzana());

      // EJERCICIO 1.3: PUNTUACION 1,25 PUNTOS:

      //Crear la clase vehiculo con los atributos marca, modelo, numOcupantes, precio. Admás tiene una propiedad de tipo Array
      //que es ocupantes donde se almacena el nombre de dada ocupate. Para ello debes utilizar el método agregarOcupantes

      class Vehiculo {
        constructor(marca, modelo, numOcupantes, precio) {
          this.marca = marca;
          this.modelo = modelo;
          this.numOcupantes = numOcupantes;
          this.precio = precio;
          this.ocupantes = [];
        }
        // Método agregar ocupantes, que recorre el array para asignar el nombre
        agregarOcupante(ocupante) {
          this.ocupantes.push(ocupante);
        }
        //Metodo imprime ocupantes, muestra los datos de los ocupantes
        imprimeOcupantes() {
          let result = "LISTA DE OCUPANTES:\n";
          this.ocupantes.forEach((ocupante) => {
            result += "-> " + ocupante + "\n";
          });
          return result;
        }
        //Metodo imprime el vehiculo
        imprimeVehiculo() {
          return (
            "Datos del coche: \nmarca: " +
            this.marca +
            " // modelo: " +
            this.modelo +
            " // numOcupantes: " +
            this.numOcupantes +
            " // precio: " +
            this.precio
          );
        }
      }
      coche = new Vehiculo("Citroen", "Visa", 5, 12000);
      coche.agregarOcupante("Clara");
      coche.agregarOcupante("David");
      console.log(coche.imprimeOcupantes());
      console.log(coche.imprimeVehiculo());
      document.write(coche.imprimeVehiculo());
      document.write("<br/>");
      document.write(coche.imprimeOcupantes());
    </script>
  </body>
</html>
